{"remainingRequest":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\thread-loader\\dist\\cjs.js!D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js!D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\src\\views\\modules\\renwuChat\\add-or-update.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\src\\views\\modules\\renwuChat\\add-or-update.vue","mtime":1734260160468},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\babel.config.js","mtime":1679451002000},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpZDogIiIsCiAgICAgIHJ1bGVGb3JtOiB7fSwKICAgICAgZGF0YUxpc3Q6IFtdLAogICAgICBjaGF0RGF0ZToge30sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgcmVud3VDaGF0UmVwbHlUZXh0OiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5Zue5aSN5YaF5a655LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGludGVyOiBudWxsCiAgICB9OwogIH0sCiAgcHJvcHM6IFsicGFyZW50Il0sCiAgbWV0aG9kczogewogICAgLy8g5Yid5aeL5YyWCiAgICBpbml0OiBmdW5jdGlvbiBpbml0KHJvdykgewogICAgICB0aGlzLmNoYXREYXRlID0gcm93OwogICAgICB0aGlzLmlkID0gcm93LmppZXF1eW9uZ2h1SWQ7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIF90aGlzLmdldExpc3QoKTsKICAgICAgdmFyIGludGVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmdldExpc3QoKTsKICAgICAgfSwgNTAwMCk7CiAgICAgIHRoaXMuaW50ZXIgPSBpbnRlcjsKICAgIH0sCiAgICBnZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBqaWVxdXlvbmdodUlkOiB0aGlzLmlkLAogICAgICAgIG9yZGVyOiAnYXNjJywKICAgICAgICBsaW1pdDogJzEwMDAwMDAwJwogICAgICB9OwogICAgICB0aGlzLiRodHRwKHsKICAgICAgICB1cmw6ICdyZW53dUNoYXQvcGFnZScsCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICBwYXJhbXM6IHBhcmFtcwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChfcmVmKSB7CiAgICAgICAgdmFyIGRhdGEgPSBfcmVmLmRhdGE7CiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jb2RlID09PSAwKSB7CiAgICAgICAgICBfdGhpczIucnVsZUZvcm0uamllcXV5b25naHVJZCA9IF90aGlzMi5pZDsKICAgICAgICAgIF90aGlzMi5kYXRhTGlzdCA9IGRhdGEuZGF0YS5saXN0OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIuJG1lc3NhZ2UuZXJyb3IoZGF0YS5tc2cpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/lm77niYcKICAgIHJlbnd1Q2hhdFJlcGx5UGhvdG9VcGxvYWRDaGFuZ2U6IGZ1bmN0aW9uIHJlbnd1Q2hhdFJlcGx5UGhvdG9VcGxvYWRDaGFuZ2UoZmlsZVVybHMpIHsKICAgICAgdGhpcy5ydWxlRm9ybS5yZW53dUNoYXRSZXBseVBob3RvID0gZmlsZVVybHM7CiAgICAgIHRoaXMuYWRkRWRpdFVwbG9hZFN0eWxlQ2hhbmdlKCk7CiAgICB9LAogICAgLy8g5o+Q5LqkCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gb25TdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzWyJydWxlRm9ybSJdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIF90aGlzMy5ydWxlRm9ybS5yZXBseVRpbWUgPSBfdGhpczMuZ2V0Q3VyRGF0ZVRpbWUoKTsKICAgICAgICBfdGhpczMucnVsZUZvcm0ucmVud3VDaGF0VHlwZXMgPSAyOwogICAgICAgIF90aGlzMy5ydWxlRm9ybS5yZXBseVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzMy4kaHR0cCh7CiAgICAgICAgICAgIHVybDogJ3Jlbnd1Q2hhdC9zYXZlJywKICAgICAgICAgICAgbWV0aG9kOiAicG9zdCIsCiAgICAgICAgICAgIGRhdGE6IF90aGlzMy5ydWxlRm9ybQogICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICAgICAgdmFyIGRhdGEgPSBfcmVmMi5kYXRhOwogICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICBfdGhpczMuJG1lc3NhZ2UoewogICAgICAgICAgICAgICAgbWVzc2FnZTogIuaTjeS9nOaIkOWKnyIsCiAgICAgICAgICAgICAgICB0eXBlOiAic3VjY2VzcyIsCiAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTUwMCwKICAgICAgICAgICAgICAgIG9uQ2xvc2U6IGZ1bmN0aW9uIG9uQ2xvc2UoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5nZXRMaXN0KCk7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5ydWxlRm9ybS5yZW53dUNoYXRSZXBseVRleHQgPSAiIjsKICAgICAgICAgICAgICAgICAgX3RoaXMzLnJ1bGVGb3JtLnJlbnd1Q2hhdFJlcGx5UGhvdG8gPSAiIjsKICAgICAgICAgICAgICAgICAgX3RoaXMzLmNoYXREYXRlLnpodWFuZ3RhaVR5cGVzID0gMjsKICAgICAgICAgICAgICAgICAgX3RoaXMzLiRodHRwKHsKICAgICAgICAgICAgICAgICAgICB1cmw6ICdyZW53dUNoYXQvdXBkYXRlJywKICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICJwb3N0IiwKICAgICAgICAgICAgICAgICAgICBkYXRhOiBfdGhpczMuY2hhdERhdGUKICAgICAgICAgICAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoX3JlZjMpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YSA9IF9yZWYzLmRhdGE7CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMy4kbWVzc2FnZS5lcnJvcihkYXRhLm1zZyk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6L+U5ZueCiAgICBiYWNrOiBmdW5jdGlvbiBiYWNrKCkgewogICAgICB0aGlzLnBhcmVudC5zaG93RmxhZyA9IGZhbHNlOwogICAgICB0aGlzLnBhcmVudC5nZXREYXRhTGlzdCgpOwogICAgICBpZiAodGhpcy5pbnRlcikgewogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcik7CiAgICAgIH0KICAgIH0KICB9Cn07"},{"version":3,"names":["data","id","ruleForm","dataList","chatDate","rules","renwuChatReplyText","required","message","trigger","inter","props","methods","init","row","jiequyonghuId","_this","getList","setInterval","_this2","params","order","limit","$http","url","method","then","_ref","code","list","$message","error","msg","renwuChatReplyPhotoUploadChange","fileUrls","renwuChatReplyPhoto","addEditUploadStyleChange","onSubmit","_this3","$refs","validate","valid","replyTime","getCurDateTime","renwuChatTypes","Date","getTime","_ref2","type","duration","onClose","zhuangtaiTypes","_ref3","back","parent","showFlag","getDataList","clearInterval"],"sources":["src/views/modules/renwuChat/add-or-update.vue"],"sourcesContent":["<template>\n    <div>\n        <el-form class=\"detail-form-content\" ref=\"ruleForm\" :model=\"ruleForm\" :rules=\"rules\" label-width=\"80px\">\n            <div class=\"chat-content\">\n                <div v-bind:key=\"item.id\" v-for=\"item in dataList\">\n                    <div v-if=\"item.renwuChatIssueText\" class=\"left-content\">\n                        <el-alert class=\"text-content\" :title=\"item.renwuChatIssueText\" :closable=\"false\"\n                                  type=\"success\">\n                            <img v-if=\"item.renwuChatIssuePhoto\" :src=\"$base.url+item.renwuChatIssuePhoto\"\n                                 width=\"100\" height=\"100\">\n                        </el-alert>\n                        <el-alert class=\"text-content\" :title=\"item.issueTime\" :closable=\"false\" type=\"success\"></el-alert>\n                    </div>\n                    <div v-if=\"item.renwuChatReplyText\" class=\"right-content\">\n                        <el-alert class=\"text-content\" :title=\"item.renwuChatReplyText\" :closable=\"false\"\n                                  type=\"warning\">\n                            <img v-if=\"item.renwuChatReplyPhoto\" :src=\"$base.url+item.renwuChatReplyPhoto\"\n                                 width=\"100\" height=\"100\">\n                        </el-alert>\n                        <el-alert class=\"text-content\" :title=\"item.replyTime\" :closable=\"false\" type=\"warning\"></el-alert>\n                    </div>\n                    <div class=\"clear-float\"></div>\n                </div>\n            </div>\n            <div class=\"clear-float\"></div>\n            <el-form-item label=\"回复\" prop=\"renwuChatReplyText\">\n                <el-input v-model=\"ruleForm.renwuChatReplyText\" placeholder=\"回复\" clearable></el-input>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click=\"onSubmit\">回复</el-button>\n                <el-button @click=\"back()\">返回</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n<script>\n    export default {\n        data() {\n            return {\n                id: \"\",\n                ruleForm: {},\n                dataList: [],\n                chatDate: {},\n                rules: {\n                    renwuChatReplyText: [{\n                        required: true,\n                        message: \"回复内容不能为空\",\n                        trigger: \"blur\"\n                    }]\n                },\n                inter: null\n            };\n        },\n        props: [\"parent\"],\n        methods: {\n            // 初始化\n            init(row) {\n                this.chatDate = row\n                this.id = row.jiequyonghuId;\n                var _this = this;\n                _this.getList();\n                var inter = setInterval(function() {\n                    _this.getList();\n                }, 5000)\n                this.inter = inter;\n            },\n\n            getList() {\n                let params = {\n                    jiequyonghuId: this.id,\n                    order:'asc',\n                    limit:'10000000',\n                }\n                this.$http({\n                    url: 'renwuChat/page',\n                    method: \"get\",\n                    params: params\n                }).then(({\n                             data\n                         }) => {\n                    if (data && data.code === 0) {\n                        this.ruleForm.jiequyonghuId = this.id;\n                        this.dataList = data.data.list;\n                    } else {\n                        this.$message.error(data.msg);\n                    }\n                });\n            },\n            //图片\n            renwuChatReplyPhotoUploadChange(fileUrls) {\n                this.ruleForm.renwuChatReplyPhoto = fileUrls;\n                this.addEditUploadStyleChange()\n            },\n            // 提交\n            onSubmit() {\n                this.$refs[\"ruleForm\"].validate(valid => {\n                    this.ruleForm.replyTime = this.getCurDateTime()\n                    this.ruleForm.renwuChatTypes = 2\n                    this.ruleForm.replyTime = new Date().getTime()\n                    if (valid) {\n                        this.$http({\n                            url: 'renwuChat/save',\n                            method: \"post\",\n                            data: this.ruleForm\n                        }).then(({\n                                     data\n                                 }) => {\n                            if (data && data.code === 0) {\n                                this.$message({\n                                    message: \"操作成功\",\n                                    type: \"success\",\n                                    duration: 1500,\n                                    onClose: () => {\n                                        this.getList();\n                                        this.ruleForm.renwuChatReplyText = \"\";\n                                        this.ruleForm.renwuChatReplyPhoto = \"\";\n\n                                        this.chatDate.zhuangtaiTypes = 2\n                                        this.$http({\n                                            url: 'renwuChat/update',\n                                            method: \"post\",\n                                            data: this.chatDate\n                                        }).then(({\n                                                     data\n                                                 }) => {});\n                                    }\n                                });\n                            } else {\n                                this.$message.error(data.msg);\n                            }\n                        });\n                    }\n                });\n            },\n            // 返回\n            back() {\n                this.parent.showFlag = false;\n                this.parent.getDataList();\n                if (this.inter) {\n                    clearInterval(this.inter);\n                }\n            }\n        }\n    };\n</script><style lang=\"scss\">\n    .chat-content {\n        margin-left: 80px;\n        padding-bottom: 60px;\n        width: 500px;\n        margin-bottom: 30px;\n        max-height: 300px;\n        height: 300px;\n        overflow-y: scroll;\n        border: 1px solid #eeeeee;\n\n    .left-content {\n        float: left;\n        margin-bottom: 10px;\n        padding: 10px;\n    }\n\n    .right-content {\n        float: right;\n        margin-bottom: 10px;\n        padding: 10px;\n    }\n    }\n\n    .clear-float {\n        clear: both;\n    }\n</style>\n\n"],"mappings":"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","ignoreList":[]}]}