{"remainingRequest":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\src\\views\\modules\\renwuChat\\list.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\src\\views\\modules\\renwuChat\\list.vue","mtime":1734260160468},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\babel-loader\\lib\\index.js","mtime":456789000000},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgICBpbXBvcnQgQWRkT3JVcGRhdGUgZnJvbSAiLi9hZGQtb3ItdXBkYXRlIjsKICAgIGltcG9ydCB7CiAgICAgICAgc2V0SW50ZXJ2YWwsCiAgICAgICAgY2xlYXJJbnRlcnZhbAogICAgfSBmcm9tICd0aW1lcnMnOwogICAgZXhwb3J0IGRlZmF1bHQgewogICAgICAgIGRhdGEoKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICBzZWFyY2hGb3JtOiB7fSwKICAgICAgICAgICAgICAgIGRhdGFMaXN0OiBbXSwKICAgICAgICAgICAgICAgIHBhZ2VJbmRleDogMSwKICAgICAgICAgICAgICAgIHBhZ2VTaXplOiAxMCwKICAgICAgICAgICAgICAgIHRvdGFsUGFnZTogMCwKICAgICAgICAgICAgICAgIGRhdGFMaXN0TG9hZGluZzogZmFsc2UsCiAgICAgICAgICAgICAgICBzaG93RmxhZzogZmFsc2UsCiAgICAgICAgICAgICAgICBkYXRhTGlzdFNlbGVjdGlvbnM6IFtdLAogICAgICAgICAgICAgICAgaW50ZXI6IG51bGwKICAgICAgICAgICAgfTsKICAgICAgICB9LAogICAgICAgIGNyZWF0ZWQoKSB7CiAgICAgICAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgICAgICAgdGhhdC5nZXREYXRhTGlzdCgpOwogICAgICAgICAgICB2YXIgaW50ZXIgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgIHRoYXQuZ2V0RGF0YUxpc3QoKTsKICAgICAgICAgICAgfSwgNTAwMCk7CiAgICAgICAgICAgIHRoaXMuaW50ZXIgPSBpbnRlcjsKICAgICAgICB9LAogICAgICAgIGRlc3Ryb3llZCgpIHsKICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVyKTsKICAgICAgICB9LAogICAgICAgIGNvbXBvbmVudHM6IHsKICAgICAgICAgICAgQWRkT3JVcGRhdGUKICAgICAgICB9LAogICAgICAgIG1ldGhvZHM6IHsKICAgICAgICAgICAgZ2V0RGF0YUxpc3QoKSB7CiAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICB0aGlzLiRodHRwKHsKICAgICAgICAgICAgICAgICAgICB1cmw6ICdyZW53dUNoYXQvcGFnZScsCiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiZ2V0IiwKICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgICAgICAgICAgICAgcGFnZTogdGhpcy5wYWdlSW5kZXgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbWl0OiB0aGlzLnBhZ2VTaXplLAogICAgICAgICAgICAgICAgICAgICAgICB6aHVhbmd0YWlUeXBlczogMSwKICAgICAgICAgICAgICAgICAgICAgICAgcmVud3VDaGF0VHlwZXM6IDEsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkudGhlbigoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEKICAgICAgICAgICAgICAgICAgICAgICAgIH0pID0+IHsKICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YSAmJiBkYXRhLmNvZGUgPT09IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdCA9IGRhdGEuZGF0YS5saXN0OwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsUGFnZSA9IGRhdGEuZGF0YS50b3RhbDsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGFMaXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxQYWdlID0gMDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhTGlzdExvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9LAogICAgICAgICAgICAvLyDmr4/pobXmlbAKICAgICAgICAgICAgc2l6ZUNoYW5nZUhhbmRsZSh2YWwpIHsKICAgICAgICAgICAgICAgIHRoaXMucGFnZVNpemUgPSB2YWw7CiAgICAgICAgICAgICAgICB0aGlzLnBhZ2VJbmRleCA9IDE7CiAgICAgICAgICAgICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIOW9k+WJjemhtQogICAgICAgICAgICBjdXJyZW50Q2hhbmdlSGFuZGxlKHZhbCkgewogICAgICAgICAgICAgICAgdGhpcy5wYWdlSW5kZXggPSB2YWw7CiAgICAgICAgICAgICAgICB0aGlzLmdldERhdGFMaXN0KCk7CiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIC8vIOWbnuWkjQogICAgICAgICAgICBhZGRPclVwZGF0ZUhhbmRsZXIocm93KSB7CiAgICAgICAgICAgICAgICB0aGlzLnNob3dGbGFnID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgICAgICAgICAgICB0aGlzLiRyZWZzLmFkZE9yVXBkYXRlLmluaXQocm93KTsKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfTsK"},{"version":3,"sources":["list.vue"],"names":[],"mappings":";AAmCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"list.vue","sourceRoot":"src/views/modules/renwuChat","sourcesContent":["<template>\n    <div class=\"main-content\">\n        <!-- 列表页 -->\n        <div v-if=\"!showFlag\">\n            <div class=\"table-content\">\n                <el-table :data=\"dataList\" empty-text=\"暂无需要回复的消息\" border v-loading=\"dataListLoading\"\n                          style=\"width: 100%;\">\n                    <el-table-column prop=\"renwuChatIssueText\" header-align=\"center\" align=\"center\" sortable label=\"新消息\">\n                    </el-table-column>\n                    <el-table-column prop=\"issueTime\" header-align=\"center\" align=\"center\" sortable label=\"发送时间\">\n                    </el-table-column>\n                    <el-table-column prop=\"allnode\" header-align=\"center\" align=\"center\" sortable label=\"状态\"\n                                     width=\"150\">\n                        <template slot-scope=\"scope\">\n                            <el-tag v-if=\"\" :type=\"scope.row.zhuangtaiTypes==1?'success':'info'\">\n                                {{scope.row.zhuangtaiValue}}</el-tag>\n                        </template>\n                    </el-table-column>\n                    <el-table-column fixed=\"right\" header-align=\"center\" align=\"center\" width=\"150\" label=\"操作\">\n                        <template slot-scope=\"scope\">\n                            <el-button type=\"text\" icon=\"el-icon-edit\" size=\"small\"\n                                       @click=\"addOrUpdateHandler(scope.row)\">回复</el-button>\n                        </template>\n                    </el-table-column>\n                </el-table>\n                <el-pagination @size-change=\"sizeChangeHandle\" @current-change=\"currentChangeHandle\"\n                               :current-page=\"pageIndex\" :page-sizes=\"[10, 20, 50, 100]\" :page-size=\"pageSize\" :total=\"totalPage\"\n                               layout=\"total, sizes, prev, pager, next, jumper\" class=\"pagination-content\"></el-pagination>\n            </div>\n        </div>\n        <!-- 添加/修改页面  将父组件的search方法传递给子组件-->\n        <add-or-update v-else :parent=\"this\" ref=\"addOrUpdate\"></add-or-update>\n    </div>\n</template>\n<script>\n    import AddOrUpdate from \"./add-or-update\";\n    import {\n        setInterval,\n        clearInterval\n    } from 'timers';\n    export default {\n        data() {\n            return {\n                searchForm: {},\n                dataList: [],\n                pageIndex: 1,\n                pageSize: 10,\n                totalPage: 0,\n                dataListLoading: false,\n                showFlag: false,\n                dataListSelections: [],\n                inter: null\n            };\n        },\n        created() {\n            var that = this;\n            that.getDataList();\n            var inter = setInterval(function() {\n                that.getDataList();\n            }, 5000);\n            this.inter = inter;\n        },\n        destroyed() {\n            clearInterval(this.inter);\n        },\n        components: {\n            AddOrUpdate\n        },\n        methods: {\n            getDataList() {\n                this.dataListLoading = true;\n                this.$http({\n                    url: 'renwuChat/page',\n                    method: \"get\",\n                    params: {\n                        page: this.pageIndex,\n                        limit: this.pageSize,\n                        zhuangtaiTypes: 1,\n                        renwuChatTypes: 1,\n                    }\n                }).then(({\n                             data\n                         }) => {\n                    if (data && data.code === 0) {\n                        this.dataList = data.data.list;\n                        this.totalPage = data.data.total;\n                    } else {\n                        this.dataList = [];\n                        this.totalPage = 0;\n                    }\n                    this.dataListLoading = false;\n                });\n            },\n            // 每页数\n            sizeChangeHandle(val) {\n                this.pageSize = val;\n                this.pageIndex = 1;\n                this.getDataList();\n            },\n            // 当前页\n            currentChangeHandle(val) {\n                this.pageIndex = val;\n                this.getDataList();\n            },\n            // 回复\n            addOrUpdateHandler(row) {\n                this.showFlag = true;\n                this.$nextTick(() => {\n                    this.$refs.addOrUpdate.init(row);\n                });\n            }\n        }\n    };\n</script><style lang=\"scss\" scoped>\n    .slt {\n        margin: 0 !important;\n        display: flex;\n    }\n\n    .ad {\n        margin: 0 !important;\n        display: flex;\n    }\n\n    .pages {\n    & /deep/ el-pagination__sizes {\n    & /deep/ el-input__inner {\n          height: 22px;\n          line-height: 22px;\n      }\n    }\n    }\n\n\n    .el-button+.el-button {\n        margin: 0;\n    }\n\n    .tables {\n    & /deep/ .el-button--success {\n          height: 36px;\n          color: rgba(40, 167, 69, 1);\n          font-size: 10px;\n          border-width: 0px;\n          border-style: solid;\n          border-color: #DCDFE6;\n          border-radius: 0px;\n          background-color: rgba(255, 255, 255, 1);\n      }\n\n    & /deep/ .el-button--primary {\n          height: 36px;\n          color: rgba(255, 193, 7, 1);\n          font-size: 10px;\n          border-width: 0px;\n          border-style: solid;\n          border-color: #DCDFE6;\n          border-radius: 0px;\n          background-color: #fff;\n      }\n\n    & /deep/ .el-button--danger {\n          height: 36px;\n          color: rgba(220, 53, 69, 1);\n          font-size: 10px;\n          border-width: 0px;\n          border-style: solid;\n          border-color: #DCDFE6;\n          border-radius: 0px;\n          background-color: #fff;\n      }\n\n    & /deep/ .el-button {\n          margin: 4px;\n      }\n    }\n</style>\n\n\n"]}]}