{"remainingRequest":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\src\\views\\modules\\renwuChat\\add-or-update.vue?vue&type=style&index=0&id=6beb9f56&prod&lang=scss","dependencies":[{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\src\\views\\modules\\renwuChat\\add-or-update.vue","mtime":1734260160468},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1719314314000},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\User\\Desktop\\task_1.0\\src\\main\\resources\\admin\\admin\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jaGF0LWNvbnRlbnQgewogICAgbWFyZ2luLWxlZnQ6IDgwcHg7CiAgICBwYWRkaW5nLWJvdHRvbTogNjBweDsKICAgIHdpZHRoOiA1MDBweDsKICAgIG1hcmdpbi1ib3R0b206IDMwcHg7CiAgICBtYXgtaGVpZ2h0OiAzMDBweDsKICAgIGhlaWdodDogMzAwcHg7CiAgICBvdmVyZmxvdy15OiBzY3JvbGw7CiAgICBib3JkZXI6IDFweCBzb2xpZCAjZWVlZWVlOwoKLmxlZnQtY29udGVudCB7CiAgICBmbG9hdDogbGVmdDsKICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICBwYWRkaW5nOiAxMHB4Owp9CgoucmlnaHQtY29udGVudCB7CiAgICBmbG9hdDogcmlnaHQ7CiAgICBtYXJnaW4tYm90dG9tOiAxMHB4OwogICAgcGFkZGluZzogMTBweDsKfQp9CgouY2xlYXItZmxvYXQgewogICAgY2xlYXI6IGJvdGg7Cn0K"},{"version":3,"sources":["add-or-update.vue"],"names":[],"mappings":";AA8KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"add-or-update.vue","sourceRoot":"src/views/modules/renwuChat","sourcesContent":["<template>\n    <div>\n        <el-form class=\"detail-form-content\" ref=\"ruleForm\" :model=\"ruleForm\" :rules=\"rules\" label-width=\"80px\">\n            <div class=\"chat-content\">\n                <div v-bind:key=\"item.id\" v-for=\"item in dataList\">\n                    <div v-if=\"item.renwuChatIssueText\" class=\"left-content\">\n                        <el-alert class=\"text-content\" :title=\"item.renwuChatIssueText\" :closable=\"false\"\n                                  type=\"success\">\n                            <img v-if=\"item.renwuChatIssuePhoto\" :src=\"$base.url+item.renwuChatIssuePhoto\"\n                                 width=\"100\" height=\"100\">\n                        </el-alert>\n                        <el-alert class=\"text-content\" :title=\"item.issueTime\" :closable=\"false\" type=\"success\"></el-alert>\n                    </div>\n                    <div v-if=\"item.renwuChatReplyText\" class=\"right-content\">\n                        <el-alert class=\"text-content\" :title=\"item.renwuChatReplyText\" :closable=\"false\"\n                                  type=\"warning\">\n                            <img v-if=\"item.renwuChatReplyPhoto\" :src=\"$base.url+item.renwuChatReplyPhoto\"\n                                 width=\"100\" height=\"100\">\n                        </el-alert>\n                        <el-alert class=\"text-content\" :title=\"item.replyTime\" :closable=\"false\" type=\"warning\"></el-alert>\n                    </div>\n                    <div class=\"clear-float\"></div>\n                </div>\n            </div>\n            <div class=\"clear-float\"></div>\n            <el-form-item label=\"回复\" prop=\"renwuChatReplyText\">\n                <el-input v-model=\"ruleForm.renwuChatReplyText\" placeholder=\"回复\" clearable></el-input>\n            </el-form-item>\n            <el-form-item>\n                <el-button type=\"primary\" @click=\"onSubmit\">回复</el-button>\n                <el-button @click=\"back()\">返回</el-button>\n            </el-form-item>\n        </el-form>\n    </div>\n</template>\n<script>\n    export default {\n        data() {\n            return {\n                id: \"\",\n                ruleForm: {},\n                dataList: [],\n                chatDate: {},\n                rules: {\n                    renwuChatReplyText: [{\n                        required: true,\n                        message: \"回复内容不能为空\",\n                        trigger: \"blur\"\n                    }]\n                },\n                inter: null\n            };\n        },\n        props: [\"parent\"],\n        methods: {\n            // 初始化\n            init(row) {\n                this.chatDate = row\n                this.id = row.jiequyonghuId;\n                var _this = this;\n                _this.getList();\n                var inter = setInterval(function() {\n                    _this.getList();\n                }, 5000)\n                this.inter = inter;\n            },\n\n            getList() {\n                let params = {\n                    jiequyonghuId: this.id,\n                    order:'asc',\n                    limit:'10000000',\n                }\n                this.$http({\n                    url: 'renwuChat/page',\n                    method: \"get\",\n                    params: params\n                }).then(({\n                             data\n                         }) => {\n                    if (data && data.code === 0) {\n                        this.ruleForm.jiequyonghuId = this.id;\n                        this.dataList = data.data.list;\n                    } else {\n                        this.$message.error(data.msg);\n                    }\n                });\n            },\n            //图片\n            renwuChatReplyPhotoUploadChange(fileUrls) {\n                this.ruleForm.renwuChatReplyPhoto = fileUrls;\n                this.addEditUploadStyleChange()\n            },\n            // 提交\n            onSubmit() {\n                this.$refs[\"ruleForm\"].validate(valid => {\n                    this.ruleForm.replyTime = this.getCurDateTime()\n                    this.ruleForm.renwuChatTypes = 2\n                    this.ruleForm.replyTime = new Date().getTime()\n                    if (valid) {\n                        this.$http({\n                            url: 'renwuChat/save',\n                            method: \"post\",\n                            data: this.ruleForm\n                        }).then(({\n                                     data\n                                 }) => {\n                            if (data && data.code === 0) {\n                                this.$message({\n                                    message: \"操作成功\",\n                                    type: \"success\",\n                                    duration: 1500,\n                                    onClose: () => {\n                                        this.getList();\n                                        this.ruleForm.renwuChatReplyText = \"\";\n                                        this.ruleForm.renwuChatReplyPhoto = \"\";\n\n                                        this.chatDate.zhuangtaiTypes = 2\n                                        this.$http({\n                                            url: 'renwuChat/update',\n                                            method: \"post\",\n                                            data: this.chatDate\n                                        }).then(({\n                                                     data\n                                                 }) => {});\n                                    }\n                                });\n                            } else {\n                                this.$message.error(data.msg);\n                            }\n                        });\n                    }\n                });\n            },\n            // 返回\n            back() {\n                this.parent.showFlag = false;\n                this.parent.getDataList();\n                if (this.inter) {\n                    clearInterval(this.inter);\n                }\n            }\n        }\n    };\n</script><style lang=\"scss\">\n    .chat-content {\n        margin-left: 80px;\n        padding-bottom: 60px;\n        width: 500px;\n        margin-bottom: 30px;\n        max-height: 300px;\n        height: 300px;\n        overflow-y: scroll;\n        border: 1px solid #eeeeee;\n\n    .left-content {\n        float: left;\n        margin-bottom: 10px;\n        padding: 10px;\n    }\n\n    .right-content {\n        float: right;\n        margin-bottom: 10px;\n        padding: 10px;\n    }\n    }\n\n    .clear-float {\n        clear: both;\n    }\n</style>\n\n"]}]}